<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book  PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
                  "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<book>
  <bookinfo>
    <title>JDF Editor users's manual</title>
    <subtitle>The JDF Editor user guide</subtitle>
    <!--author>
      <firstname></firstname>
      <surname></surname>
      <affiliation>
        <address>
          <email>...@...</email>
        </address>
      </affiliation>
    </author>
    <abstract>
      <para lang="en">This is the JDF Editor User Manual.</para>
    </abstract>
    <legalnotice>
      <para>Permission is granted to ...</para>
    </legalnotice-->
  </bookinfo>

  <chapter>
    <title><phrase lang="en">Getting Started</phrase>
    </title>
    <section>
      <title>
        <phrase lang="en">The org.cip4.tools.jdfeditor.Application handles JDF and JMF Files</phrase>
      </title>
      <para>It is possible to Open an existing File or create a new JDF or JMF File.
      You can Open a File either with the <emphasis role="bold">Open Button</emphasis>,
      the <emphasis role="bold">Open</emphasis>
      Command in the <emphasis role="bold">File Menu</emphasis>, the short-key
      <keycombo><keycap>Ctrl</keycap><keycap>0</keycap></keycombo> or by
      <emphasis role="bold">Drag and Drop</emphasis> a File to the Tree View Area
      from Windows Explorer or from the Desktop.
      </para>
      <para>The default language is English. The language can be changed in the
      <emphasis role="bold">Preferences</emphasis>
      Options under the <emphasis role="bold">Language</emphasis>Tab. The available languages right now are:
      <itemizedlist>
      <listitem><para>English</para></listitem>
      <listitem><para>French</para></listitem>
      <listitem><para>German</para></listitem>
      <listitem><para>Spanish</para></listitem>
      <listitem><para>Swedish</para></listitem>
      </itemizedlist>
      Only button names, Menus and Error messages are Internationalized. To apply the new
      language settings after changing language you have to 
      <emphasis role="bold">Restart</emphasis> the application.
      </para>
      <para>The Look &amp; Feel can be changed during run time in the <emphasis role="bold">Preferences</emphasis>
      Options under the <emphasis role="bold">Look &amp; Feel</emphasis> Tab.
      </para>
      <para>The <emphasis role="bold">Search</emphasis> Function is Valid in the Tree View, the Error View and in
      the In- &amp; Output View. The Search Function can be accessed from the <emphasis role="bold">Edit Menu</emphasis>
      or by the short-key <keycombo><keycap>Ctrl</keycap><keycap>F</keycap></keycombo>.
      </para>
      <para>It is possible to Highlight Foreign Namespaces and Private Elements. To do so, click on
      the <emphasis role="bold">Highlight Foreign Namespaces/Private Elements</emphasis> Item in the
      <emphasis role="bold">Validation Menu</emphasis>.
      </para>
      <para>It is possible to hide attributes in the Tree View by clicking on the
      <emphasis role="bold">Show Attributes in Tree View</emphasis> Item in the
      <emphasis role="bold">Validation Menu</emphasis>. It is also possible to
      <emphasis role="bold">Show Inherited Attributes in Tree View</emphasis>. This Option is also found in the Validation Menu.
      </para>
    </section>
  </chapter>

  <chapter>
    <title>The Views</title>
    <section>
      <title>Tree View</title>
      <para>The Tree View displays the JDF or JMF File as a Tree. Both the elements and the attributes
      are displayed as Tree Nodes. If the automatic validation is on or the Validate Button is pressed,
      invalid elements and attributes are displayed with the Error Icon. A number of different icons
      are displayed in the tree view. Theese are the default Icons:
      </para>
      <para><simplelist type="horiz" columns="2">
      <member><inlinegraphic fileref="../jdfeditor/icons/ElemIcon.gif" format="GIF"></inlinegraphic></member><member>Element</member>
      <member><inlinegraphic fileref="../jdfeditor/icons/JDFElemIcon.gif"></inlinegraphic></member><member>JDF Element</member>
      <member><inlinegraphic fileref="../jdfeditor/icons/rRefElemIcon.gif"></inlinegraphic></member><member>RefElement</member>
      <member><inlinegraphic fileref="../jdfeditor/icons/ErrorElemIcon.gif"></inlinegraphic></member><member>Element with Error</member>
      <member><inlinegraphic fileref="../jdfeditor/icons/AttIconSelected.gif"></inlinegraphic></member><member>Attribute</member>
      <member><inlinegraphic fileref="../jdfeditor/icons/InhAttIconSelected.gif"></inlinegraphic></member><member>Inherited Attribute</member>
      <member><inlinegraphic fileref="../jdfeditor/icons/PartIDKeysAttIconSelected.gif"></inlinegraphic></member><member>PartIDKey Attribute</member>
      <member><inlinegraphic fileref="../jdfeditor/icons/InhPartIDKeysAttIconSelected.gif"></inlinegraphic></member><member>Inherited PartIDKey Attribute</member>
      <member><inlinegraphic fileref="../jdfeditor/icons/ErrorAttIconSelected.gif"></inlinegraphic></member><member>Attribute with Error</member>
      </simplelist>
      </para>
    </section>
    <section>
      <title>Error View</title>
      <para>In the Error View the Errors are displayed if the File is validated and contains Errors.
      When clicking on a Node in the Tree View, the errors of that Node and all its children are listed
      in the Error View. A click on the parent JDF Node will therefore display the Errors for the entire File.
      If the Node is valid, the Error View is blank. If clicking on an item in the Error View, the corresponding
      Node in the Tree gets selected.
      </para>
    </section>
    <section>
      <title>In- &amp; Output View</title>
      <para>Clicking on a JDF-, Resource- or Resource Link Node in the Tree View will activate
      the In- &amp; Output view. The selected Node is displayed in the center of the In- &amp; Output View,
      its input and output Resources respectively its JDF Consumer and Producer are displayed on the sides.
      When double clicking on a Resource Link, the link is followed to its Resource, which is displayed in
      the center as described above.
      </para>
      <para>Doing a mouse click with the right mouse button on one of the Nodes on
      the side will put that Node in the center and its input and output Resources or its JDF Consumer and
      Producer on the sides. A mouse click with the left mouse button will select the corresponding Node in
      the Tree View.
      </para>
    </section>
    <section>
      <title>Process View</title>
      <para>Clicking on a JDF node in the Tree View will draw the Process View for that Node.
      The In- &amp; Output View is automatically selected; to view the Processes click on the Process View Tab.
      From here it is possible to navigate the Processes by doing a mouse click with the left mouse button on a
      JDF Node; the processes that Node describes is then displayed. A click with the left mouse button on a
      Resource will select that Resource in the Tree View. To display the Processes of the parent JDF Node of
      the displayed JDF Node; go to the Menu bar and click on the Button:
      </para>
      <para><emphasis role="bold">Go Up One Level In Process View</emphasis>
      <inlinegraphic fileref="../jdfeditor/icons/UpButton.gif"></inlinegraphic>
      </para>
    </section>
    <section>
      <title>Comment View</title>
      <para>The Comment View displays the plain text in the selected Node, if there is any.
      </para>
    </section>
  </chapter>

  <chapter>
    <title>Edit</title>
    <para>Editing is possible from the Tree View. The editing Options for the selected Node
    is available in a <emphasis role="bold">Popup Menu</emphasis>, which is displayed when doing
    a mouse click with the right mouse button, and also in the <emphasis role="bold">Edit</emphasis>
    and <emphasis role="bold">Insert Menues</emphasis>. When inserting a new element or attribute,
    only valid options are eligible.
    </para>
    <para>In the <emphasis role="bold">Preferences</emphasis> Options, which are found in the
    <emphasis role="bold">Tools Menu</emphasis>, you can choose to Open a File
    <emphasis role="bold">Read Only</emphasis> under the <emphasis role="bold">General</emphasis> Tab.
    That means that the File can not be edited if it was Opened with the Read Only Option selected. After
    Opening a File it is not possible to change the editing mode. To enable editing the File has to be
    closed, the Read Only Option turned off and the File has to be opened again.
    </para>
    <para>The Undo and Redo features are not yet supported...
    </para>
  </chapter>

  <chapter>
    <title>Validate and Certification</title>
    <para>A File can be Opened with or without Automatic Validation. The default is set to Open without
    Automatic Validation, which makes the Opening process less time consuming. To turn Automatic Validation
    on or off select the <emphasis role="bold">Open Files with Automatic Validation</emphasis> Option under
    the <emphasis role="bold">General</emphasis> Tab in the <emphasis role="bold">Preferences</emphasis> Options.
    </para>
    <para>The Automatic Validation can be switched on and off at any time. When the Automatic Validation mode
    is switched on, the whole File is revalidated. If it is switched off, you can choose to Validate the File
    at any time by clicking the Button:
    </para>
    <para><emphasis role="bold">Validate the file</emphasis>
    <inlinegraphic fileref="../jdfeditor/icons/RevalidateButton.gif"></inlinegraphic>
    </para>
  </chapter>

  <chapter>
    <title>Development and Problems</title>
    <section>
      <title>Suggentions of Further Development</title>
      <para>The following features have not been implemented in the CIP4 JDF Editor and this is a suggestion
      of features to add to the application;
      <itemizedlist>
      <listitem><para>Schema Validation</para></listitem>
      <listitem><para>Undo and Redo</para></listitem>
      <listitem><para>Source View</para></listitem>
      <listitem><para>Improve Validation after Editing</para></listitem>
      <listitem><para>Enhance JMF Support</para></listitem>
      <listitem><para>Change Comment-text directly in the Comment View</para></listitem>
      </itemizedlist>
      One other possible feature to add is the ability to execute the JDF process associated with the JDF
      file displayed in the editor with the return URL setup to notify the editor so that it could be
      automatically reloaded after process execution. This would allow the user to see how process execution
      modifies the JDF and allow a quick means for testing processes.
      </para>
      <para>Yet another feature is to implement the ability to put together a table with starting point in
      a JDF file. The table elements will contain information about all the possible processes, resources
      and attributes in the JDF file. This table will be useful for interoperability purposes.
      </para>
    </section>
    <section>
      <title>Trouble with Java VM</title>
      <para>If the CIP4 JDFEditor has problems finding your Java Virtual Machine, open the JDFEditor.prop
      File with a text editor, e.g. Windows Notepad, and add a # in front of the Line:
      </para>
      <para><emphasis role="bold">jdkversion = 1.4.2 1.4.1 1.4 1.3</emphasis>
      </para>
      <para>so that the Starter org.cip4.tools.jdfeditor.Application won'­t read that line, or simply delete it. Thereafter add a new Line:
      </para>
      <para><emphasis role="bold">javadllpath = c:\path\jvm.dll</emphasis>
      </para>
      <para>where <emphasis>path</emphasis> is the path to where your jvm.dll File is located in your Java
      Runtime Enviornment (JRE) directory. This should take care of any problem experienced with the Java VM.
      </para>
    </section>
    <section>
      <title>Building a .jar File</title>
      <para>When building a .jar File a couple of changes has to made in certain classes. The affected classes,
      and the number of changes that has to be made in them, is the following:
      <itemizedlist>
      <listitem><para>JDFFrame         - Two Changes</para></listitem>
      <listitem><para>HelpFrame        - Two Changes</para></listitem>
      <listitem><para>PreferenceDialog - One Change</para></listitem>
      <listitem><para>INIReader        - One Change</para></listitem>
      </itemizedlist>
      The changes to be made is to Comment and Uncomment a number of Lines in the code that initiates the
      ImageIcons. The reason for this is so that the GIF Files can be included in the .jar File.
      </para>
      <para>Include the following Resources when exporting a .jar File:
      <itemizedlist>
      <listitem><para>JDFEditor/src</para></listitem>
      <listitem><para>JDFEditor/icons</para></listitem>
      <listitem><para>JDFLib/src</para></listitem>
      <listitem><para>Xerces/src</para></listitem>
      </itemizedlist>
      </para>
    </section>
  </chapter>
</book>
